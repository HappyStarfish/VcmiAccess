VCMI Accessibility Edition

WHAT IS THIS?
VCMI is an open-source reimplementation of the Heroes of Might and Magic 3
engine. This version includes accessibility extensions that make the game
usable with screen readers.
For help, support, bug reports etc. please refer to the Audiogames.net forum.

Setup instructions:
Install the original game (or the demo), unpack the mod files in a directory of your choice, and then launch the launcher (VCMI_launcher.exe) from the mod folder. It should prompt you to tell it where your game files are installed, and probably also to select a language.
Once everything is set up, it's the easiest accessibility-wise to just start the game by opening VCMI_client.exe (also from the mod folder), which should just start the game directly and announce the title and then the main menu.

A note on ingame navigation:
All the game action happens on a rectangular map with two levels and lots of obstacles. Pressing the arrow keys will automatically move your selected hero, spending their valuable movement points which is why we've created an exploration mode: Press F2 to activate it and explore the map freely. The game has a great auto walking feature, just press enter on your desired target and your hero will start walking towards it.
Pressing Control plus arrow keys will move your cursor (not the hero yet) towards interesting spots on the map. There won't be many things to explore to start with because you'll need to explore the map by having your heroes walk around in order to know what's on it. In order to make this easier, pressing X while in exploration mode will move your cursor as closely as possible to the nex unexplored spot. Making your hero walk there will enhance your orientation on the map. Shift + X will autowalk your hero closer to unexplored land, and Control + Shift will try and autowalk directly into unexplored territory.

Keyboard Shortcuts

Press F1 in any context for context-sensitive help.
Control + Shift + F12 temporarily disables the mod (press again to reenable it.)
Note: Some of these shortcuts are accessibility-related, but many are already present in the game by default. See the game's handbook for a comprehensive list.
From here on, this is a longish document divided into different categories of keystrokes, and at the very end there's some license info:

Ressource Handling:
f7 on the map: Reads all ressources.
Numbers 1-9 in the kingdom's view (k): Reads individual ressources such as gold, gems, or movement points


MAIN MENU

N               New game
L               Load game
Q / Escape      Quit
B / Escape      Back

Singleplayer submenu:
S               Singleplayer
M               Multiplayer
C               Campaign
T               Tutorial

Multiplayer submenu:
H               Hotseat
C               Host game (create)
J               Join game
Ctrl+Tab        Online lobby

LOBBY / MAP SELECTION

Tab             Switch between map list and buttons
B               Begin game
L               Load game
S               Save game
R               Random map
A               Additional options
E               Extra options
T               Turn options
I               Invite players
F               Flip coin

ADVENTURE MAP

Basic Navigation:
H               Next hero
Ctrl+H          First hero
T               Next town
Ctrl+T          First town
N               Next object (hero or town)
K               Kingdom overview

Accessibility:
F2              Toggle exploration mode
F7              Announce resources
Alt+H           Hero list navigation

Hero Actions:
M               Move hero along path
C               Cast spell (open spellbook)
Z               Set hero asleep
W               Wake hero
D               Dig for grail
Enter           Open selected hero/town

Game Controls:
E               End turn
O               Game options
L               Load game
S               Save game
F8              Quick save
F9              Quick load
R               Restart game
Ctrl+N          New game
Ctrl+M          Main menu
Ctrl+Q / Q      Quit game
I               Scenario information
Q               Quest log
P               Puzzle map
J               Statistics
G               Thieves guild
B               Marketplace (if available)
Ctrl+F          Search
Alt+F           Continue search

Movement (Numpad or Arrow keys):
Numpad 7 / Home     Move northwest
Numpad 8 / Up       Move north
Numpad 9 / PageUp   Move northeast
Numpad 4 / Left     Move west
Numpad 6 / Right    Move east
Numpad 1 / End      Move southwest
Numpad 2 / Down     Move south
Numpad 3 / PageDown Move southeast

In Exploration Mode:
Arrow keys      Move cursor without spending movement
Ctrl+Arrow      Jump to next reachable object in direction
Ctrl+Shift+L/R  Cycle through all objects
Shift+Arrow     Jump to unexplored tile in direction
X               Move cursor to nearest unexplored
Shift+X         Move hero to nearest unexplored
Ctrl+X          Auto-explore
Enter           Set path to cursor position

BATTLE

Navigation:
Arrow keys      Move hex cursor
Tab             Select next enemy and move cursor
Shift+Tab       Select previous enemy
Ctrl+Right      Jump to next unit (any)
Ctrl+Left       Jump to previous unit (any)
Enter           Interact with hex under cursor

Actions:
W               Wait
D / Space       Defend
C               Cast spell
F / G           Use creature spell
A               Autocombat
Q               End battle with autocombat
S               Surrender
R               Retreat

Information:
F8              Announce current stack info
I               Info about active unit
V               Info about hovered unit
Z               Toggle battle queue
T               Toggle quickspell panel

Quickspell slots:
1-0             Quickspell slots 1-10
N               Quickspell slot 11
M               Quickspell slot 12

Other:
O               Options
Ctrl+Shift+M    Toggle mute battle announcements
F1              Battle help
Escape          Close help

HERO WINDOW

Navigation:
Up/Down         Navigate through menu items
Enter           Activate selected item
Escape          Close window

Actions:
C               Commander
D               Dismiss hero
S               Split army
L               Loose formation
T               Tight formation

Equipment Navigation (when activated):
Up/Down         Navigate through equipment slots
Enter           Show artifact popup
I               Show artifact description
U               Unequip artifact to backpack
Escape          Exit equipment navigation

TOWN / CASTLE
Up/Down         Switch between towns
I               Accessible building overview and management
B               Town hall
F               Fort
G               Mage guild
M               Marketplace
T               Tavern
R               Open recruitment

Heroes:
H               Open hero (visiting or garrisoned)
Ctrl+H          Open visiting hero
Shift+H         Open garrisoned hero
E               Hero exchange (requires two heroes)
Space           Swap armies between heroes


KINGDOM OVERVIEW

H               Hero list tab
T               Town list tab
I               Announce details of selected entry
A               Announce army of selected entry
R               Announce resources
M               Announce mines

SPELLBOOK

Tab             Toggle between school and spell navigation

School Navigation:
Up/Down         Switch between magic schools (Air, Earth, Fire, Water, All)
Left/Right      Turn pages

Spell Navigation:
Arrow keys      Navigate through spells
Enter           Cast selected spell

Information:
D               Announce spell description
A               Adventure spells tab
C               Combat spells tab

MARKETPLACE / TRADE

Navigation:
Up/Down         Select resource
Tab             Switch between give and receive panels
Left/Right      Adjust trade amount
Enter           Complete trade
M               Maximum amount
Space           Deal (same as Enter)



HERO EXCHANGE

Army Transfer:
F10 / Q         Swap all armies
Ctrl+PageUp     Move hero up in list
Ctrl+PageDown   Move hero down in list
Ctrl+Home       Move hero to top of list
Ctrl+End        Move hero to bottom of list

Artifact Transfer:
F11 / Q         Swap all artifacts
Ctrl+F11        Swap equipped artifacts
Shift+F11       Swap backpack artifacts

QUICK RECRUITMENT (Fort/Citadel/Castle)
================================================================================

1-7             Recruit from individual creature slots
U               Upgrade all creatures
M               Set maximum for all

ONLINE LOBBY

Tab             Cycle forward through areas
                (Rooms, Channels, Match history, Players, Chat, Actions)
Shift+Tab       Cycle backward through areas

SAVE/LOAD DIALOGS

This doesn't run very smoothly yet. Press tab to jump to the section with the listed safe. They're organised in folders, press arrow right to open a folder and then navigate through the items as usual and select one with enter. you'll then still need to press tab again and select "start" from the menu.

LICENSE
VCMI is licensed under the GNU General Public License Version 2 (GPL-2).
See LICENSE.txt for the full license text.

The complete source code is available at:
https://github.com/vcmi/vcmi

The accessibility extensions were developed for this package.
Modified source files are located in client/accessibility/:
- ScreenReader.cpp/.h - Tolk-based screen reader output
- FocusManager.cpp/.h - Keyboard navigation
- AccessibilityLogger.cpp/.h - Debug logging
- AccessibilityStrings.cpp/.h - Localized announcement strings
- ExplorationMode.cpp/.h - Exploration mode
- IFocusable.h - Interface for focusable elements
- Tolk.h - Tolk library header

Additional changes were made to:
- client/widgets/Buttons.cpp - Button hover and toggle status
- client/PlayerLocalState.cpp - Player state changes
- client/adventureMap/CResDataBar.cpp - Resource display
- client/CPlayerInterface.cpp - Main interface events
- client/battle/BattleConsole.cpp - Battle messages
- client/windows/InfoWindows.cpp - Info dialogs
- client/widgets/TextControls.cpp - Text widgets


THIRD-PARTY LIBRARIES
This package includes the following third-party libraries:

- Tolk (screen reader abstraction): https://github.com/ndarilek/tolk
- Qt5 (GUI framework): LGPL
- SDL2 (multimedia): zlib license
- Boost: Boost Software License
- FFmpeg (avcodec, avformat, avutil, swresample, swscale): LGPL